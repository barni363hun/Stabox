(()=>{"use strict";var __webpack_modules__={8083:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.addressEntity=void 0;const tslib_1=__webpack_require__(752),typeorm_1=__webpack_require__(5250),_1=__webpack_require__(953),reciever_entity_1=__webpack_require__(881);let addressEntity=class addressEntity{};(0,tslib_1.__decorate)([(0,typeorm_1.PrimaryGeneratedColumn)(),(0,tslib_1.__metadata)("design:type",Number)],addressEntity.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],addressEntity.prototype,"userId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((()=>_1.userEntity),(user=>user.addresses)),(0,tslib_1.__metadata)("design:type","function"==typeof(_a=void 0!==_1.userEntity&&_1.userEntity)?_a:Object)],addressEntity.prototype,"user",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],addressEntity.prototype,"country",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Number)],addressEntity.prototype,"zipCode",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],addressEntity.prototype,"cityName",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],addressEntity.prototype,"street",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],addressEntity.prototype,"houseNumber",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)({nullable:!0}),(0,tslib_1.__metadata)("design:type",String)],addressEntity.prototype,"name",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)({default:!1}),(0,tslib_1.__metadata)("design:type",Boolean)],addressEntity.prototype,"isDeleted",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.OneToMany)((()=>reciever_entity_1.recieverEntity),(reciever=>reciever.address)),(0,tslib_1.__metadata)("design:type",Array)],addressEntity.prototype,"recievers",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.OneToMany)((()=>_1.exchangeDateEntity),(exchangeDate=>exchangeDate.address)),(0,tslib_1.__metadata)("design:type",Array)],addressEntity.prototype,"exchangeDates",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.OneToMany)((()=>_1.packageEntity),(package_=>package_.fromAddress)),(0,tslib_1.__metadata)("design:type",Array)],addressEntity.prototype,"packages",void 0),addressEntity=(0,tslib_1.__decorate)([(0,typeorm_1.Entity)()],addressEntity),exports.addressEntity=addressEntity},7616:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.contactUsEntity=void 0;const tslib_1=__webpack_require__(752),typeorm_1=__webpack_require__(5250);let contactUsEntity=class contactUsEntity{};(0,tslib_1.__decorate)([(0,typeorm_1.PrimaryGeneratedColumn)(),(0,tslib_1.__metadata)("design:type",Number)],contactUsEntity.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],contactUsEntity.prototype,"email",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],contactUsEntity.prototype,"name",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],contactUsEntity.prototype,"message",void 0),contactUsEntity=(0,tslib_1.__decorate)([(0,typeorm_1.Entity)()],contactUsEntity),exports.contactUsEntity=contactUsEntity},8394:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c;Object.defineProperty(exports,"__esModule",{value:!0}),exports.exchangeDateEntity=void 0;const tslib_1=__webpack_require__(752),typeorm_1=__webpack_require__(5250),_1=__webpack_require__(953);let exchangeDateEntity=class exchangeDateEntity{};(0,tslib_1.__decorate)([(0,typeorm_1.PrimaryGeneratedColumn)(),(0,tslib_1.__metadata)("design:type",Number)],exchangeDateEntity.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Object)],exchangeDateEntity.prototype,"addressId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((()=>_1.addressEntity),(address=>address)),(0,tslib_1.__metadata)("design:type","function"==typeof(_a=void 0!==_1.addressEntity&&_1.addressEntity)?_a:Object)],exchangeDateEntity.prototype,"address",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_b="undefined"!=typeof Date&&Date)?_b:Object)],exchangeDateEntity.prototype,"startDate",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_c="undefined"!=typeof Date&&Date)?_c:Object)],exchangeDateEntity.prototype,"endDate",void 0),exchangeDateEntity=(0,tslib_1.__decorate)([(0,typeorm_1.Entity)()],exchangeDateEntity),exports.exchangeDateEntity=exchangeDateEntity},953:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(752);(0,tslib_1.__exportStar)(__webpack_require__(8084),exports),(0,tslib_1.__exportStar)(__webpack_require__(7016),exports),(0,tslib_1.__exportStar)(__webpack_require__(2547),exports),(0,tslib_1.__exportStar)(__webpack_require__(7631),exports),(0,tslib_1.__exportStar)(__webpack_require__(8083),exports),(0,tslib_1.__exportStar)(__webpack_require__(8394),exports),(0,tslib_1.__exportStar)(__webpack_require__(881),exports),(0,tslib_1.__exportStar)(__webpack_require__(7616),exports)},8084:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c,_d,_e,_f;Object.defineProperty(exports,"__esModule",{value:!0}),exports.packageEntity=void 0;const tslib_1=__webpack_require__(752),typeorm_1=__webpack_require__(5250),_1=__webpack_require__(953),reciever_entity_1=__webpack_require__(881);let packageEntity=class packageEntity{};(0,tslib_1.__decorate)([(0,typeorm_1.PrimaryGeneratedColumn)(),(0,tslib_1.__metadata)("design:type",Number)],packageEntity.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)({nullable:!0}),(0,tslib_1.__metadata)("design:type",Number)],packageEntity.prototype,"vehicleId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((()=>_1.vehicleEntity),(vehicle=>vehicle.id)),(0,tslib_1.__metadata)("design:type","function"==typeof(_a=void 0!==_1.vehicleEntity&&_1.vehicleEntity)?_a:Object)],packageEntity.prototype,"vehicle",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],packageEntity.prototype,"userId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((()=>_1.userEntity),(user=>user.packages)),(0,tslib_1.__metadata)("design:type","function"==typeof(_b=void 0!==_1.userEntity&&_1.userEntity)?_b:Object)],packageEntity.prototype,"user",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Number)],packageEntity.prototype,"recieverId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((()=>reciever_entity_1.recieverEntity),(reciever=>reciever.package)),(0,tslib_1.__metadata)("design:type","function"==typeof(_c=void 0!==reciever_entity_1.recieverEntity&&reciever_entity_1.recieverEntity)?_c:Object)],packageEntity.prototype,"reciever",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Number)],packageEntity.prototype,"fromAddressId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((()=>_1.addressEntity),(fromAddress=>fromAddress.packages)),(0,tslib_1.__metadata)("design:type","function"==typeof(_d=void 0!==_1.addressEntity&&_1.addressEntity)?_d:Object)],packageEntity.prototype,"fromAddress",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_e="undefined"!=typeof Date&&Date)?_e:Object)],packageEntity.prototype,"postDate",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_f="undefined"!=typeof Date&&Date)?_f:Object)],packageEntity.prototype,"shippingDate",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],packageEntity.prototype,"size",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],packageEntity.prototype,"weight",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Boolean)],packageEntity.prototype,"fragile",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Number)],packageEntity.prototype,"price",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Number)],packageEntity.prototype,"currentCity",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],packageEntity.prototype,"name",void 0),packageEntity=(0,tslib_1.__decorate)([(0,typeorm_1.Entity)()],packageEntity),exports.packageEntity=packageEntity},881:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.recieverEntity=void 0;const tslib_1=__webpack_require__(752),typeorm_1=__webpack_require__(5250),_1=__webpack_require__(953);let recieverEntity=class recieverEntity{};(0,tslib_1.__decorate)([(0,typeorm_1.PrimaryGeneratedColumn)(),(0,tslib_1.__metadata)("design:type",Number)],recieverEntity.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Number)],recieverEntity.prototype,"addressId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((type=>_1.addressEntity),(address=>address.recievers)),(0,tslib_1.__metadata)("design:type","function"==typeof(_a=void 0!==_1.addressEntity&&_1.addressEntity)?_a:Object)],recieverEntity.prototype,"address",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],recieverEntity.prototype,"firstName",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],recieverEntity.prototype,"lastName",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],recieverEntity.prototype,"email",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],recieverEntity.prototype,"phoneNumber",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.OneToMany)((type=>_1.packageEntity),(package_=>package_.reciever)),(0,tslib_1.__metadata)("design:type",Array)],recieverEntity.prototype,"package",void 0),recieverEntity=(0,tslib_1.__decorate)([(0,typeorm_1.Entity)()],recieverEntity),exports.recieverEntity=recieverEntity},2547:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b;Object.defineProperty(exports,"__esModule",{value:!0}),exports.transactionEntity=void 0;const tslib_1=__webpack_require__(752),typeorm_1=__webpack_require__(5250),_1=__webpack_require__(953);let transactionEntity=class transactionEntity{};(0,tslib_1.__decorate)([(0,typeorm_1.PrimaryGeneratedColumn)(),(0,tslib_1.__metadata)("design:type",Number)],transactionEntity.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],transactionEntity.prototype,"userId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((()=>_1.userEntity),(user=>user.transactions)),(0,tslib_1.__metadata)("design:type","function"==typeof(_a=void 0!==_1.userEntity&&_1.userEntity)?_a:Object)],transactionEntity.prototype,"user",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Number)],transactionEntity.prototype,"amount",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",Boolean)],transactionEntity.prototype,"direction",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)("timestamp"),(0,tslib_1.__metadata)("design:type","function"==typeof(_b="undefined"!=typeof Date&&Date)?_b:Object)],transactionEntity.prototype,"timeStamp",void 0),transactionEntity=(0,tslib_1.__decorate)([(0,typeorm_1.Entity)()],transactionEntity),exports.transactionEntity=transactionEntity},7631:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.userEntity=void 0;const tslib_1=__webpack_require__(752),typeorm_1=__webpack_require__(5250),_1=__webpack_require__(953);let userEntity=class userEntity{};(0,tslib_1.__decorate)([(0,typeorm_1.PrimaryColumn)(),(0,tslib_1.__metadata)("design:type",String)],userEntity.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)({unique:!0}),(0,tslib_1.__metadata)("design:type",String)],userEntity.prototype,"email",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],userEntity.prototype,"username",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],userEntity.prototype,"firstName",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],userEntity.prototype,"lastName",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],userEntity.prototype,"phoneNumber",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)({default:0}),(0,tslib_1.__metadata)("design:type",Number)],userEntity.prototype,"stabucks",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.OneToMany)((()=>_1.transactionEntity),(transaction=>transaction.user)),(0,tslib_1.__metadata)("design:type",Array)],userEntity.prototype,"transactions",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.OneToMany)((()=>_1.vehicleEntity),(vehicles=>vehicles.user)),(0,tslib_1.__metadata)("design:type",Array)],userEntity.prototype,"vehicles",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.OneToMany)((()=>_1.packageEntity),(package_=>package_.user)),(0,tslib_1.__metadata)("design:type",Array)],userEntity.prototype,"packages",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.OneToMany)((()=>_1.addressEntity),(address=>address.user)),(0,tslib_1.__metadata)("design:type",Array)],userEntity.prototype,"addresses",void 0),userEntity=(0,tslib_1.__decorate)([(0,typeorm_1.Entity)()],userEntity),exports.userEntity=userEntity},7016:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.vehicleEntity=void 0;const tslib_1=__webpack_require__(752),typeorm_1=__webpack_require__(5250),_1=__webpack_require__(953);let vehicleEntity=class vehicleEntity{};(0,tslib_1.__decorate)([(0,typeorm_1.PrimaryGeneratedColumn)(),(0,tslib_1.__metadata)("design:type",Number)],vehicleEntity.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],vehicleEntity.prototype,"userId",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.ManyToOne)((()=>_1.userEntity),(user=>user.vehicles)),(0,tslib_1.__metadata)("design:type","function"==typeof(_a=void 0!==_1.userEntity&&_1.userEntity)?_a:Object)],vehicleEntity.prototype,"user",void 0),(0,tslib_1.__decorate)([(0,typeorm_1.Column)(),(0,tslib_1.__metadata)("design:type",String)],vehicleEntity.prototype,"name",void 0),vehicleEntity=(0,tslib_1.__decorate)([(0,typeorm_1.Entity)()],vehicleEntity),exports.vehicleEntity=vehicleEntity},7113:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c,_d,_e,_f,_g,_h;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddressController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),class_validator_1=__webpack_require__(5849),auth_1=__webpack_require__(1024),roles_decorator_1=__webpack_require__(7541),address_service_1=__webpack_require__(8183),typeorm_1=__webpack_require__(5250);class idDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],idDto.prototype,"id",void 0);class addressDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],addressDto.prototype,"country",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],addressDto.prototype,"zipCode",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],addressDto.prototype,"cityName",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],addressDto.prototype,"street",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],addressDto.prototype,"houseNumber",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],addressDto.prototype,"name",void 0);class myAddressDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],myAddressDto.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],myAddressDto.prototype,"country",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,class_validator_1.NotEquals)(0),(0,tslib_1.__metadata)("design:type",Number)],myAddressDto.prototype,"zipCode",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],myAddressDto.prototype,"cityName",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],myAddressDto.prototype,"street",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],myAddressDto.prototype,"houseNumber",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],myAddressDto.prototype,"name",void 0);let AddressController=class AddressController{constructor(addressService){this.addressService=addressService}create(req,body){return this.addressService.create({id:0,userId:req.user.sub,country:body.country,zipCode:body.zipCode,cityName:body.cityName,street:body.street,houseNumber:body.houseNumber,name:body.name})}getAll(){return this.addressService.getAll()}getMyAddresses(req){return this.addressService.find({where:{userId:req.user.sub,name:(0,typeorm_1.Not)(""),isDeleted:!1}})}getMyRecieverAddresses(req){return this.addressService.find({where:{userId:req.user.sub,name:"",isDeleted:!1}})}delete(req,body){return this.addressService.getById(body.id).then((a=>{if(a.userId==req.user.sub)return a.isDeleted=!0,this.addressService.update(body.id,a).then((()=>this.addressService.delete(body.id)));throw new common_1.MethodNotAllowedException("You can only delete your own address")}))}update(req,body){return this.addressService.getById(body.id).then((a=>{if(a.userId==req.user.sub){const newDates={country:body.country,zipCode:body.zipCode,cityName:body.cityName,street:body.street,houseNumber:body.houseNumber,name:body.name};return this.addressService.update(body.id,newDates)}throw new common_1.MethodNotAllowedException("You can only modify your own address")}))}};(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Put)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==auth_1.authRequest&&auth_1.authRequest)?_a:Object,addressDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],AddressController.prototype,"create",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Post)("/all"),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],AddressController.prototype,"getAll",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Get)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_b=void 0!==auth_1.authRequest&&auth_1.authRequest)?_b:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_c="undefined"!=typeof Promise&&Promise)?_c:Object)],AddressController.prototype,"getMyAddresses",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Get)("/reciever"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_d=void 0!==auth_1.authRequest&&auth_1.authRequest)?_d:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_e="undefined"!=typeof Promise&&Promise)?_e:Object)],AddressController.prototype,"getMyRecieverAddresses",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Delete)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_f=void 0!==auth_1.authRequest&&auth_1.authRequest)?_f:Object,idDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],AddressController.prototype,"delete",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Patch)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_g=void 0!==auth_1.authRequest&&auth_1.authRequest)?_g:Object,myAddressDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],AddressController.prototype,"update",null),AddressController=(0,tslib_1.__decorate)([(0,common_1.Controller)("address"),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_h=void 0!==address_service_1.AddressService&&address_service_1.AddressService)?_h:Object])],AddressController),exports.AddressController=AddressController},3453:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddressModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),Entities_1=__webpack_require__(953),address_controller_1=__webpack_require__(7113),address_service_1=__webpack_require__(8183);let AddressModule=class AddressModule{};AddressModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[typeorm_1.TypeOrmModule.forFeature([Entities_1.addressEntity])],controllers:[address_controller_1.AddressController],providers:[address_service_1.AddressService],exports:[address_service_1.AddressService]})],AddressModule),exports.AddressModule=AddressModule},8183:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddressService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953),generic_service_1=__webpack_require__(3226);let AddressService=class AddressService extends generic_service_1.GenericService{constructor(addressRepository){super(addressRepository),this.addressRepository=addressRepository}};AddressService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__param)(0,(0,typeorm_1.InjectRepository)(Entities_1.addressEntity)),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_2.Repository&&typeorm_2.Repository)?_a:Object])],AddressService),exports.AddressService=AddressService},6454:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),app_service_1=__webpack_require__(8968),auth_1=__webpack_require__(1024),roles_decorator_1=__webpack_require__(7541);let AppController=class AppController{constructor(appService){this.appService=appService}getData(req){return req.user}test(){return"workss"}getCat(){return this.appService.getCat()}getDog(req){return req.user+" and a dog"}};(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard),(0,common_1.Get)("hello"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==auth_1.authRequest&&auth_1.authRequest)?_a:Object]),(0,tslib_1.__metadata)("design:returntype",void 0)],AppController.prototype,"getData",null),(0,tslib_1.__decorate)([(0,common_1.Get)("test"),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],AppController.prototype,"test",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Get)("/cat"),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",String)],AppController.prototype,"getCat",null),(0,tslib_1.__decorate)([(0,common_1.Get)("/dog"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[Object]),(0,tslib_1.__metadata)("design:returntype",String)],AppController.prototype,"getDog",null),AppController=(0,tslib_1.__decorate)([(0,common_1.Controller)(),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_b=void 0!==app_service_1.AppService&&app_service_1.AppService)?_b:Object])],AppController),exports.AppController=AppController},3292:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),config_1=__webpack_require__(5793),app_controller_1=__webpack_require__(6454),app_service_1=__webpack_require__(8968),typeorm_1=__webpack_require__(3399),user_module_1=__webpack_require__(2874),auth_module_1=__webpack_require__(4092),exchange_date_module_1=__webpack_require__(4991),transaction_module_1=__webpack_require__(2627),vehicle_module_1=__webpack_require__(6509),address_module_1=__webpack_require__(3453),reciever_module_1=__webpack_require__(3862),package_module_1=__webpack_require__(9740),contact_us_module_1=__webpack_require__(5372),serve_static_1=__webpack_require__(5385),path_1=__webpack_require__(1017),ormconfig=__webpack_require__(5343);let AppModule=class AppModule{};AppModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[auth_module_1.AuthModule,config_1.ConfigModule.forRoot(),typeorm_1.TypeOrmModule.forRoot(ormconfig),serve_static_1.ServeStaticModule.forRoot({rootPath:(0,path_1.join)(__dirname,".","frontend")}),user_module_1.UserModule,exchange_date_module_1.ExchangeDateModule,transaction_module_1.TransactionModule,vehicle_module_1.VehicleModule,address_module_1.AddressModule,reciever_module_1.RecieverModule,package_module_1.PackageModule,contact_us_module_1.ContactUsModule],controllers:[app_controller_1.AppController],providers:[app_service_1.AppService]})],AppModule),exports.AppModule=AppModule},8968:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481);let AppService=class AppService{getData(){return{message:"Welcome to api!"}}getDog(){return"woof"}getCat(){return"meow"}getHello(){return"Hello World!"}};AppService=(0,tslib_1.__decorate)([(0,common_1.Injectable)()],AppService),exports.AppService=AppService},4703:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthGuard=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),jwks_rsa_1=__webpack_require__(5835),util_1=__webpack_require__(3837),jwt=__webpack_require__(9779);let AuthGuard=class AuthGuard{constructor(){this.AUTH0_AUDIENCE=process.env.AUTH0_AUDIENCE,this.AUTH0_DOMAIN=process.env.AUTH0_DOMAIN}canActivate(context){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const req=context.getArgByIndex(0),res=context.getArgByIndex(1),checkJwt=(0,util_1.promisify)(jwt({secret:(0,jwks_rsa_1.expressJwtSecret)({cache:!0,rateLimit:!0,jwksRequestsPerMinute:5,jwksUri:`${this.AUTH0_DOMAIN}.well-known/jwks.json`}),audience:this.AUTH0_AUDIENCE,issuer:this.AUTH0_DOMAIN,algorithms:["RS256"]}));try{return yield checkJwt(req,res),!0}catch(error){throw new common_1.UnauthorizedException(error)}return!0}))}};AuthGuard=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__metadata)("design:paramtypes",[])],AuthGuard),exports.AuthGuard=AuthGuard},4092:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481);let AuthModule=class AuthModule{};AuthModule=(0,tslib_1.__decorate)([(0,common_1.Module)({})],AuthModule),exports.AuthModule=AuthModule},6041:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},1024:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(752);(0,tslib_1.__exportStar)(__webpack_require__(4703),exports),(0,tslib_1.__exportStar)(__webpack_require__(2095),exports),(0,tslib_1.__exportStar)(__webpack_require__(6041),exports)},2095:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoleGuard=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),core_1=__webpack_require__(143);let RoleGuard=class RoleGuard{constructor(reflector){this.reflector=reflector}canActivate(context){const[req]=context.getArgs(),userRoles=(null==req?void 0:req.user[process.env.AUTH0_ROLES])||[],requiredRoles=this.reflector.get("roles",context.getHandler()),hasAllRequiredRoles=requiredRoles.every((permission=>userRoles.includes(permission)));if(0===requiredRoles.length||hasAllRequiredRoles)return!0;throw new common_1.ForbiddenException("Insufficient Roles")}};RoleGuard=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==core_1.Reflector&&core_1.Reflector)?_a:Object])],RoleGuard),exports.RoleGuard=RoleGuard},7541:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Roles=void 0;const common_1=__webpack_require__(6481);exports.Roles=(...roles)=>(0,common_1.SetMetadata)("roles",roles)},7317:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContactUsController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),class_validator_1=__webpack_require__(5849),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953);class myExchangeDateDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsEmail)(),(0,tslib_1.__metadata)("design:type",String)],myExchangeDateDto.prototype,"email",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],myExchangeDateDto.prototype,"name",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],myExchangeDateDto.prototype,"message",void 0);let ContactUsController=class ContactUsController{constructor(contactUsRepository){this.contactUsRepository=contactUsRepository}create(body){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const result=this.contactUsRepository.create(body);return yield this.contactUsRepository.save(result)}))}};(0,tslib_1.__decorate)([(0,common_1.Post)(),(0,tslib_1.__param)(0,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[myExchangeDateDto]),(0,tslib_1.__metadata)("design:returntype",Promise)],ContactUsController.prototype,"create",null),ContactUsController=(0,tslib_1.__decorate)([(0,common_1.Controller)("contact-us"),(0,tslib_1.__param)(0,(0,typeorm_1.InjectRepository)(Entities_1.contactUsEntity)),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_2.Repository&&typeorm_2.Repository)?_a:Object])],ContactUsController),exports.ContactUsController=ContactUsController},5372:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContactUsModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953),user_module_1=__webpack_require__(2874),contact_us_controller_1=__webpack_require__(7317);let ContactUsModule=class ContactUsModule{};ContactUsModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[typeorm_1.TypeOrmModule.forFeature([Entities_1.contactUsEntity]),user_module_1.UserModule],controllers:[contact_us_controller_1.ContactUsController],providers:[typeorm_2.Repository],exports:[]})],ContactUsModule),exports.ContactUsModule=ContactUsModule},4088:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExchangeDateController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),class_validator_1=__webpack_require__(5849),auth_1=__webpack_require__(1024),roles_decorator_1=__webpack_require__(7541),exchange_date_service_1=__webpack_require__(2557);class idDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],idDto.prototype,"id",void 0);class exchangeDateDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsDateString)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_a="undefined"!=typeof Date&&Date)?_a:Object)],exchangeDateDto.prototype,"startDate",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsDateString)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_b="undefined"!=typeof Date&&Date)?_b:Object)],exchangeDateDto.prototype,"endDate",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],exchangeDateDto.prototype,"addressId",void 0);class myExchangeDateDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],myExchangeDateDto.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsDateString)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_c="undefined"!=typeof Date&&Date)?_c:Object)],myExchangeDateDto.prototype,"startDate",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsDateString)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_d="undefined"!=typeof Date&&Date)?_d:Object)],myExchangeDateDto.prototype,"endDate",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],myExchangeDateDto.prototype,"addressId",void 0);let ExchangeDateController=class ExchangeDateController{constructor(exchangeDateService){this.exchangeDateService=exchangeDateService}create(req,body){return this.exchangeDateService.create(Object.assign({},body))}getAll(){return this.exchangeDateService.getAll()}getMyExchangeDates(req){return this.exchangeDateService.find({where:{address:{userId:req.user.sub,isDeleted:!1}},relations:["address"],loadRelationIds:!1})}getByPackageId(req,id){return this.exchangeDateService.find({where:{addressId:id},relations:["address"]})}delete(req,body){return this.exchangeDateService.getById(body.id).then((a=>{if(a.address.userId==req.user.sub)return this.exchangeDateService.delete(body.id);throw new common_1.MethodNotAllowedException("You can only delete your own exchange dates")}))}update(req,body){return this.exchangeDateService.getById(body.id).then((a=>{if(a.address.userId==req.user.sub)return this.exchangeDateService.update(body.id,{startDate:body.startDate,endDate:body.endDate,addressId:body.addressId});throw new common_1.MethodNotAllowedException("You can only modify your own exchange dates")}))}};(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Put)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_e=void 0!==auth_1.authRequest&&auth_1.authRequest)?_e:Object,exchangeDateDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],ExchangeDateController.prototype,"create",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Post)("/all"),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],ExchangeDateController.prototype,"getAll",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Get)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_f=void 0!==auth_1.authRequest&&auth_1.authRequest)?_f:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_g="undefined"!=typeof Promise&&Promise)?_g:Object)],ExchangeDateController.prototype,"getMyExchangeDates",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Get)("/package/:id"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Param)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_h=void 0!==auth_1.authRequest&&auth_1.authRequest)?_h:Object,Number]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_j="undefined"!=typeof Promise&&Promise)?_j:Object)],ExchangeDateController.prototype,"getByPackageId",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Delete)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_k=void 0!==auth_1.authRequest&&auth_1.authRequest)?_k:Object,idDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],ExchangeDateController.prototype,"delete",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Patch)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_l=void 0!==auth_1.authRequest&&auth_1.authRequest)?_l:Object,myExchangeDateDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],ExchangeDateController.prototype,"update",null),ExchangeDateController=(0,tslib_1.__decorate)([(0,common_1.Controller)("EXdate"),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_m=void 0!==exchange_date_service_1.ExchangeDateService&&exchange_date_service_1.ExchangeDateService)?_m:Object])],ExchangeDateController),exports.ExchangeDateController=ExchangeDateController},4991:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExchangeDateModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),Entities_1=__webpack_require__(953),user_module_1=__webpack_require__(2874),exchange_date_controller_1=__webpack_require__(4088),exchange_date_service_1=__webpack_require__(2557);let ExchangeDateModule=class ExchangeDateModule{};ExchangeDateModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[typeorm_1.TypeOrmModule.forFeature([Entities_1.exchangeDateEntity]),user_module_1.UserModule],controllers:[exchange_date_controller_1.ExchangeDateController],providers:[exchange_date_service_1.ExchangeDateService],exports:[exchange_date_service_1.ExchangeDateService]})],ExchangeDateModule),exports.ExchangeDateModule=ExchangeDateModule},2557:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExchangeDateService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953),generic_service_1=__webpack_require__(3226);let ExchangeDateService=class ExchangeDateService extends generic_service_1.GenericService{constructor(exchangeDateRepository){super(exchangeDateRepository),this.exchangeDateRepository=exchangeDateRepository}getById(id){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const item=yield this.repository.findOne(id,{relations:["address"]});if(!item)throw new common_1.NotFoundException("NOT_FOUND");return item}))}};ExchangeDateService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__param)(0,(0,typeorm_1.InjectRepository)(Entities_1.exchangeDateEntity)),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_2.Repository&&typeorm_2.Repository)?_a:Object])],ExchangeDateService),exports.ExchangeDateService=ExchangeDateService},3226:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GenericService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(5250);let GenericService=class GenericService{constructor(repository){this.repository=repository}getAll(){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return yield this.repository.find()}))}getById(id){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const item=yield this.repository.findOne(id);if(!item)throw new common_1.NotFoundException("NOT_FOUND");return item}))}find(options){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return yield this.repository.find(options)}))}create(data){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const result=this.repository.create(data);return yield this.repository.save(result)}))}update(id,data){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return yield this.repository.update(id,data)}))}delete(id){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return yield this.repository.delete(id)}))}};GenericService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_1.Repository&&typeorm_1.Repository)?_a:Object])],GenericService),exports.GenericService=GenericService},5343:(module,__unused_webpack_exports,__webpack_require__)=>{const Entities_1=__webpack_require__(953),config={type:"mysql",host:"eu-cdbr-west-02.cleardb.net",port:3306,username:"ba26dd00a399fa",password:"c2095f8f",database:"heroku_eb31e99ed1af12a",entities:[Entities_1.userEntity,Entities_1.addressEntity,Entities_1.exchangeDateEntity,Entities_1.packageEntity,Entities_1.recieverEntity,Entities_1.vehicleEntity,Entities_1.transactionEntity,Entities_1.contactUsEntity],synchronize:!0,migrationsRun:!1,logging:!1,logger:"file",migrations:["dist/src/migrations/**/*{.ts,.js}"],cli:{migrationsDir:"src/migrations"}};module.exports=config},3010:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x;Object.defineProperty(exports,"__esModule",{value:!0}),exports.PackageController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),class_validator_1=__webpack_require__(5849),typeorm_1=__webpack_require__(5250),address_service_1=__webpack_require__(8183),auth_1=__webpack_require__(1024),roles_decorator_1=__webpack_require__(7541),exchange_date_service_1=__webpack_require__(2557),vehicle_service_1=__webpack_require__(4823),package_service_1=__webpack_require__(6957);class idDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],idDto.prototype,"id",void 0);class idDateDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],idDateDto.prototype,"id",void 0);class packageDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.Matches)("[0-9]+x[0-9]+x[0-9]+"),(0,tslib_1.__metadata)("design:type",String)],packageDto.prototype,"size",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.Matches)("([0-9]+gramm|[0-9]+kilogramm)"),(0,tslib_1.__metadata)("design:type",String)],packageDto.prototype,"weight",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsBoolean)(),(0,tslib_1.__metadata)("design:type",Boolean)],packageDto.prototype,"fragile",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],packageDto.prototype,"fromAddressId",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],packageDto.prototype,"name",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],packageDto.prototype,"recieverId",void 0);class assignMeDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],assignMeDto.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],assignMeDto.prototype,"vehicleId",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsDateString)(),(0,tslib_1.__metadata)("design:type","function"==typeof(_a="undefined"!=typeof Date&&Date)?_a:Object)],assignMeDto.prototype,"postDate",void 0);let PackageController=class PackageController{constructor(packageService,addressService,exchangeDateService,vehicleService){this.packageService=packageService,this.addressService=addressService,this.exchangeDateService=exchangeDateService,this.vehicleService=vehicleService}create(req,body){return this.packageService.create(Object.assign({userId:req.user.sub,price:500},body))}createWithAddress(req,body){return this.packageService.create(Object.assign({userId:req.user.sub,price:500},body))}getAll(){return this.packageService.getAll()}getMyPackages(req){return this.packageService.find({where:{userId:req.user.sub}})}getMyPackagesWithAddress(req){return this.packageService.find({where:{userId:req.user.sub},relations:["fromAddress","reciever","reciever.address"]})}getAcceptable(req){return this.packageService.find({where:{vehicleId:null,userId:(0,typeorm_1.Not)(req.user.sub)},relations:["fromAddress","reciever","reciever.address"]}).then((res=>res))}getAccepted(req){return this.packageService.find({where:{shippingDate:!1,vehicle:{userId:req.user.sub}},relations:["fromAddress","vehicle","reciever","reciever.address"]})}delete(req,body){return this.packageService.getById(body.id).then((a=>{if(a.userId==req.user.sub)return this.packageService.delete(body.id);throw new common_1.MethodNotAllowedException("You can only delete your own package")}))}assignMe(req,body){return this.packageService.getById(body.id).then((a=>{if(a.userId!==req.user.sub)return this.packageService.update(body.id,{vehicleId:body.vehicleId,postDate:body.postDate});throw new common_1.MethodNotAllowedException("You can not accept your own package")}))}sent(req,body){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return this.packageService.getById(body.id).then((a=>{if(0==a.vehicleId)return this.addressService.getById(a.fromAddressId).then((n=>this.packageService.update(body.id,{currentCity:n.cityName})));throw new common_1.MethodNotAllowedException("You can only assign to a package without a shipper")}))}))}getAvaibleDates(req,body){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return this.packageService.getById(body.id).then((a=>this.exchangeDateService.find({where:{address:{userId:a.userId}}})))}))}getPackageByVehicleId(req,body){return this.packageService.find({where:{vehicleId:body.id}})}shipped(req,body){return this.packageService.find({where:{id:body.id}}).then((packag=>this.vehicleService.getById(packag[0].vehicleId).then((veh=>{if(veh.userId==req.user.sub)return this.packageService.update(body.id,{shippingDate:(new Date).toISOString()});throw new common_1.MethodNotAllowedException("You can only approve packages shipped by you")}))))}};(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Put)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_b=void 0!==auth_1.authRequest&&auth_1.authRequest)?_b:Object,packageDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],PackageController.prototype,"create",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Put)("/add"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_c=void 0!==auth_1.authRequest&&auth_1.authRequest)?_c:Object,packageDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],PackageController.prototype,"createWithAddress",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Post)("/all"),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],PackageController.prototype,"getAll",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Get)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_d=void 0!==auth_1.authRequest&&auth_1.authRequest)?_d:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_e="undefined"!=typeof Promise&&Promise)?_e:Object)],PackageController.prototype,"getMyPackages",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Get)("/mypackages"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_f=void 0!==auth_1.authRequest&&auth_1.authRequest)?_f:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_g="undefined"!=typeof Promise&&Promise)?_g:Object)],PackageController.prototype,"getMyPackagesWithAddress",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Get)("/acceptable"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_h=void 0!==auth_1.authRequest&&auth_1.authRequest)?_h:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_j="undefined"!=typeof Promise&&Promise)?_j:Object)],PackageController.prototype,"getAcceptable",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Get)("/accepted"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_k=void 0!==auth_1.authRequest&&auth_1.authRequest)?_k:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_l="undefined"!=typeof Promise&&Promise)?_l:Object)],PackageController.prototype,"getAccepted",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Delete)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_m=void 0!==auth_1.authRequest&&auth_1.authRequest)?_m:Object,idDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],PackageController.prototype,"delete",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Patch)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_o=void 0!==auth_1.authRequest&&auth_1.authRequest)?_o:Object,assignMeDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],PackageController.prototype,"assignMe",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Post)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_p=void 0!==auth_1.authRequest&&auth_1.authRequest)?_p:Object,idDto]),(0,tslib_1.__metadata)("design:returntype",Promise)],PackageController.prototype,"sent",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Get)("/dates"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_q=void 0!==auth_1.authRequest&&auth_1.authRequest)?_q:Object,idDto]),(0,tslib_1.__metadata)("design:returntype",Promise)],PackageController.prototype,"getAvaibleDates",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Get)("/vehicle"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_r=void 0!==auth_1.authRequest&&auth_1.authRequest)?_r:Object,idDto]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_s="undefined"!=typeof Promise&&Promise)?_s:Object)],PackageController.prototype,"getPackageByVehicleId",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Post)("/shipped"),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_t=void 0!==auth_1.authRequest&&auth_1.authRequest)?_t:Object,idDateDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],PackageController.prototype,"shipped",null),PackageController=(0,tslib_1.__decorate)([(0,common_1.Controller)("package"),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_u=void 0!==package_service_1.PackageService&&package_service_1.PackageService)?_u:Object,"function"==typeof(_v=void 0!==address_service_1.AddressService&&address_service_1.AddressService)?_v:Object,"function"==typeof(_w=void 0!==exchange_date_service_1.ExchangeDateService&&exchange_date_service_1.ExchangeDateService)?_w:Object,"function"==typeof(_x=void 0!==vehicle_service_1.VehicleService&&vehicle_service_1.VehicleService)?_x:Object])],PackageController),exports.PackageController=PackageController},9740:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.PackageModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),Entities_1=__webpack_require__(953),address_module_1=__webpack_require__(3453),exchange_date_module_1=__webpack_require__(4991),vehicle_module_1=__webpack_require__(6509),package_controller_1=__webpack_require__(3010),package_service_1=__webpack_require__(6957);let PackageModule=class PackageModule{};PackageModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[typeorm_1.TypeOrmModule.forFeature([Entities_1.packageEntity]),address_module_1.AddressModule,exchange_date_module_1.ExchangeDateModule,vehicle_module_1.VehicleModule],controllers:[package_controller_1.PackageController],providers:[package_service_1.PackageService]})],PackageModule),exports.PackageModule=PackageModule},6957:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.PackageService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953),generic_service_1=__webpack_require__(3226);let PackageService=class PackageService extends generic_service_1.GenericService{constructor(packageRepository){super(packageRepository),this.packageRepository=packageRepository}};PackageService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__param)(0,(0,typeorm_1.InjectRepository)(Entities_1.packageEntity)),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_2.Repository&&typeorm_2.Repository)?_a:Object])],PackageService),exports.PackageService=PackageService},30:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c,_d;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecieverController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),class_validator_1=__webpack_require__(5849),address_service_1=__webpack_require__(8183),auth_1=__webpack_require__(1024),roles_decorator_1=__webpack_require__(7541),reciever_service_1=__webpack_require__(3437);class recieverWithAddressDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],recieverWithAddressDto.prototype,"firstName",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],recieverWithAddressDto.prototype,"lastName",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsEmail)(),(0,tslib_1.__metadata)("design:type",String)],recieverWithAddressDto.prototype,"email",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsPhoneNumber)("HU"),(0,tslib_1.__metadata)("design:type",String)],recieverWithAddressDto.prototype,"phoneNumber",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],recieverWithAddressDto.prototype,"country",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],recieverWithAddressDto.prototype,"zipCode",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],recieverWithAddressDto.prototype,"cityName",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],recieverWithAddressDto.prototype,"street",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],recieverWithAddressDto.prototype,"houseNumber",void 0);let RecieverController=class RecieverController{constructor(recieverService,addressService){this.recieverService=recieverService,this.addressService=addressService}createWithAddress(req,body){return this.addressService.create({id:0,userId:req.user.sub,country:body.country,zipCode:body.zipCode,cityName:body.cityName,street:body.street,houseNumber:body.houseNumber}).then((res=>this.recieverService.create({id:0,addressId:res.id,firstName:body.firstName,lastName:body.lastName,email:body.email,phoneNumber:body.phoneNumber})))}getAll(){return this.recieverService.getAll()}getMyRecieveres(req){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const addressIds=yield this.addressService.find({where:{userId:req.user.sub}}).then((addresses=>addresses.map((a=>a.id))));return this.recieverService.RecieveresByAddressIds(addressIds)}))}};(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Put)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==auth_1.authRequest&&auth_1.authRequest)?_a:Object,recieverWithAddressDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],RecieverController.prototype,"createWithAddress",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Post)("/all"),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],RecieverController.prototype,"getAll",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Get)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_b=void 0!==auth_1.authRequest&&auth_1.authRequest)?_b:Object]),(0,tslib_1.__metadata)("design:returntype",Promise)],RecieverController.prototype,"getMyRecieveres",null),RecieverController=(0,tslib_1.__decorate)([(0,common_1.Controller)("reciever"),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_c=void 0!==reciever_service_1.RecieverService&&reciever_service_1.RecieverService)?_c:Object,"function"==typeof(_d=void 0!==address_service_1.AddressService&&address_service_1.AddressService)?_d:Object])],RecieverController),exports.RecieverController=RecieverController},3862:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecieverModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),reciever_service_1=__webpack_require__(3437),reciever_controller_1=__webpack_require__(30),Entities_1=__webpack_require__(953),typeorm_1=__webpack_require__(3399),address_module_1=__webpack_require__(3453);let RecieverModule=class RecieverModule{};RecieverModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[typeorm_1.TypeOrmModule.forFeature([Entities_1.recieverEntity]),address_module_1.AddressModule],providers:[reciever_service_1.RecieverService],controllers:[reciever_controller_1.RecieverController]})],RecieverModule),exports.RecieverModule=RecieverModule},3437:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecieverService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953),generic_service_1=__webpack_require__(3226);let RecieverService=class RecieverService extends generic_service_1.GenericService{constructor(recieverRepository){super(recieverRepository),this.recieverRepository=recieverRepository}RecieveresByAddressIds(addressIds){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const recievers=yield Promise.all(addressIds.map((id=>this.getRecByAdId(id))));return[].concat(...recievers)}))}getRecByAdId(id){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return this.recieverRepository.find({where:{addressId:id}})}))}};RecieverService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__param)(0,(0,typeorm_1.InjectRepository)(Entities_1.recieverEntity)),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_2.Repository&&typeorm_2.Repository)?_a:Object])],RecieverService),exports.RecieverService=RecieverService},204:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TransactionController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),class_validator_1=__webpack_require__(5849),auth_1=__webpack_require__(1024),roles_decorator_1=__webpack_require__(7541),transaction_service_1=__webpack_require__(775);class buyDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],buyDto.prototype,"amount",void 0);let TransactionController=class TransactionController{constructor(transactionService){this.transactionService=transactionService}all(){return this.transactionService.getAll()}getMyTransactions(req){return this.transactionService.find({where:{userId:req.user.sub}})}buy(req,body){const tra={userId:req.user.sub,amount:body.amount,direction:!0};return this.transactionService.create(tra)}};(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Post)(),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],TransactionController.prototype,"all",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Get)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==auth_1.authRequest&&auth_1.authRequest)?_a:Object]),(0,tslib_1.__metadata)("design:returntype",void 0)],TransactionController.prototype,"getMyTransactions",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Patch)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_b=void 0!==auth_1.authRequest&&auth_1.authRequest)?_b:Object,buyDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],TransactionController.prototype,"buy",null),TransactionController=(0,tslib_1.__decorate)([(0,common_1.Controller)("transaction"),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_c=void 0!==transaction_service_1.TransactionService&&transaction_service_1.TransactionService)?_c:Object])],TransactionController),exports.TransactionController=TransactionController},2627:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.TransactionModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),Entities_1=__webpack_require__(953),transaction_controller_1=__webpack_require__(204),transaction_service_1=__webpack_require__(775);let TransactionModule=class TransactionModule{};TransactionModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[typeorm_1.TypeOrmModule.forFeature([Entities_1.transactionEntity])],controllers:[transaction_controller_1.TransactionController],providers:[transaction_service_1.TransactionService]})],TransactionModule),exports.TransactionModule=TransactionModule},775:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TransactionService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953),generic_service_1=__webpack_require__(3226);let TransactionService=class TransactionService extends generic_service_1.GenericService{constructor(transactionRepository){super(transactionRepository),this.transactionRepository=transactionRepository}};TransactionService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__param)(0,(0,typeorm_1.InjectRepository)(Entities_1.transactionEntity)),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_2.Repository&&typeorm_2.Repository)?_a:Object])],TransactionService),exports.TransactionService=TransactionService},5025:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c,_d,_e,_f,_g,_h,_j;Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),class_validator_1=__webpack_require__(5849),typeorm_1=__webpack_require__(5250),auth_1=__webpack_require__(1024),roles_decorator_1=__webpack_require__(7541),userUpdate_DTO_1=__webpack_require__(5252),user_service_1=__webpack_require__(5242),userMin_DTO_1=__webpack_require__(8555);class idDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],idDto.prototype,"id",void 0);let UserController=class UserController{constructor(userService){this.userService=userService}getMyData(req){return this.userService.getMyData(req)}getAll(){return this.userService.getAllUsername()}create(req,body){return this.userService.new(req.user.sub,body)}delete(req){return this.userService.deletee(req.user.sub)}modify(req,body){const newUser={username:body.username,id:req.user.sub,firstName:body.firstName,lastName:body.lastName,phoneNumber:body.phoneNumber};return this.userService.addUserRole(newUser.id),this.userService.updatee(newUser.id,newUser)}find(body){return this.userService.find(body)}addUserRole(body){return this.userService.addUserRole(body.id)}addShipperRole(body){return this.userService.addShipperRole(body.id)}};(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard),(0,common_1.Get)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==auth_1.authRequest&&auth_1.authRequest)?_a:Object]),(0,tslib_1.__metadata)("design:returntype",void 0)],UserController.prototype,"getMyData",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard),(0,common_1.Get)("/all"),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],UserController.prototype,"getAll",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard),(0,common_1.Put)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_b=void 0!==auth_1.authRequest&&auth_1.authRequest)?_b:Object,"function"==typeof(_c=void 0!==userMin_DTO_1.userMinDto&&userMin_DTO_1.userMinDto)?_c:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_d="undefined"!=typeof Promise&&Promise)?_d:Object)],UserController.prototype,"create",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard),(0,common_1.Delete)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_e=void 0!==auth_1.authRequest&&auth_1.authRequest)?_e:Object]),(0,tslib_1.__metadata)("design:returntype",void 0)],UserController.prototype,"delete",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard),(0,common_1.Patch)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_f=void 0!==auth_1.authRequest&&auth_1.authRequest)?_f:Object,"function"==typeof(_g=void 0!==userUpdate_DTO_1.userUpdateDto&&userUpdate_DTO_1.userUpdateDto)?_g:Object]),(0,tslib_1.__metadata)("design:returntype",void 0)],UserController.prototype,"modify",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Post)(),(0,tslib_1.__param)(0,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_h=void 0!==typeorm_1.FindManyOptions&&typeorm_1.FindManyOptions)?_h:Object]),(0,tslib_1.__metadata)("design:returntype",void 0)],UserController.prototype,"find",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Post)("/user"),(0,tslib_1.__param)(0,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[idDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],UserController.prototype,"addUserRole",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("user"),(0,common_1.Post)("/shipper"),(0,tslib_1.__param)(0,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[idDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],UserController.prototype,"addShipperRole",null),UserController=(0,tslib_1.__decorate)([(0,common_1.Controller)("user"),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_j=void 0!==user_service_1.UserService&&user_service_1.UserService)?_j:Object])],UserController),exports.UserController=UserController},2874:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserModule=void 0;const tslib_1=__webpack_require__(752),axios_1=__webpack_require__(9498),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),Entities_1=__webpack_require__(953),user_controller_1=__webpack_require__(5025),user_service_1=__webpack_require__(5242);let UserModule=class UserModule{};UserModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[typeorm_1.TypeOrmModule.forFeature([Entities_1.userEntity]),axios_1.HttpModule],controllers:[user_controller_1.UserController],providers:[user_service_1.UserService],exports:[user_service_1.UserService]})],UserModule),exports.UserModule=UserModule},5242:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b;Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserService=void 0;const tslib_1=__webpack_require__(752),axios_1=__webpack_require__(9498),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953),generic_service_1=__webpack_require__(3226);let UserService=class UserService extends generic_service_1.GenericService{constructor(userRepository,httpService){super(userRepository),this.userRepository=userRepository,this.httpService=httpService}addUserRole(id){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return this.userRepository.findOne({id}).then((res=>{if(null==res)throw new common_1.NotFoundException("This user does not exist!");{const options={headers:{"content-type":"application/json",authorization:"Bearer "+process.env.AUTH0_API_TOKEN,"cache-control":"no-cache"},data:{roles:["rol_fOmBHGPGmePItkqG"]}},data={roles:["rol_fOmBHGPGmePItkqG"]};return this.httpService.post(process.env.AUTH0_DOMAIN+"api/v2/users/"+id+"/roles",data,options).subscribe((res=>res))}}))}))}addShipperRole(id){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return this.userRepository.findOne({id}).then((res=>{if(null==res)throw new common_1.NotFoundException("This user does not exist!");{const options={headers:{"content-type":"application/json",authorization:"Bearer "+process.env.AUTH0_API_TOKEN,"cache-control":"no-cache"},data:{roles:["rol_72IOyNuWHPWpC03o"]}},data={roles:["rol_72IOyNuWHPWpC03o"]};return this.httpService.post(process.env.AUTH0_DOMAIN+"api/v2/users/"+id+"/roles",data,options).subscribe((res=>res))}}))}))}deletee(id){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return yield this.userRepository.delete(id)}))}updatee(id,data){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return yield this.userRepository.update(id,data)}))}new(authId,user){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const newUser={email:user.email,username:user.username,id:authId};return this.userRepository.findOne({email:user.email}).then((res=>{if(null==res)return this.userRepository.findOne({id:authId}).then((res=>{if(null==res)return this.userRepository.save(newUser);throw new common_1.ConflictException("User already exists with this id!")}));throw new common_1.ConflictException("User already exists with this email address!")}))}))}getAllUsername(){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return this.userRepository.find().then((res=>res.map((user=>user.username))))}))}getMyData(req){return(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){return this.userRepository.findOne({id:req.user.sub}).then((res=>{if(null==res)throw new common_1.NotFoundException("You can only get your data if you already have a user!");{const roles={"https://www.stabox.hu/roles":[...req.user["https://www.stabox.hu/roles"]]};return Object.assign(Object.assign({},roles),res)}}))}))}};UserService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__param)(0,(0,typeorm_1.InjectRepository)(Entities_1.userEntity)),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_2.Repository&&typeorm_2.Repository)?_a:Object,"function"==typeof(_b=void 0!==axios_1.HttpService&&axios_1.HttpService)?_b:Object])],UserService),exports.UserService=UserService},8555:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.userMinDto=void 0;const tslib_1=__webpack_require__(752),class_validator_1=__webpack_require__(5849);class userMinDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsEmail)(),(0,tslib_1.__metadata)("design:type",String)],userMinDto.prototype,"email",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],userMinDto.prototype,"username",void 0),exports.userMinDto=userMinDto},5252:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.userUpdateDto=void 0;const tslib_1=__webpack_require__(752),class_validator_1=__webpack_require__(5849);class userUpdateDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNotEmpty)(),(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],userUpdateDto.prototype,"username",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNotEmpty)(),(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],userUpdateDto.prototype,"firstName",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsNotEmpty)(),(0,class_validator_1.IsString)(),(0,tslib_1.__metadata)("design:type",String)],userUpdateDto.prototype,"lastName",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsPhoneNumber)("HU"),(0,tslib_1.__metadata)("design:type",String)],userUpdateDto.prototype,"phoneNumber",void 0),exports.userUpdateDto=userUpdateDto},577:(__unused_webpack_module,exports,__webpack_require__)=>{var _a,_b,_c,_d,_e,_f;Object.defineProperty(exports,"__esModule",{value:!0}),exports.VehicleController=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),class_validator_1=__webpack_require__(5849),auth_1=__webpack_require__(1024),roles_decorator_1=__webpack_require__(7541),vehicle_service_1=__webpack_require__(4823);class idDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],idDto.prototype,"id",void 0);class vehicleDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],vehicleDto.prototype,"name",void 0);class myVehicleDto{}(0,tslib_1.__decorate)([(0,class_validator_1.IsNumber)(),(0,tslib_1.__metadata)("design:type",Number)],myVehicleDto.prototype,"id",void 0),(0,tslib_1.__decorate)([(0,class_validator_1.IsString)(),(0,class_validator_1.IsNotEmpty)(),(0,tslib_1.__metadata)("design:type",String)],myVehicleDto.prototype,"name",void 0);let VehicleController=class VehicleController{constructor(vehicleService){this.vehicleService=vehicleService}create(req,body){return this.vehicleService.create({id:0,userId:req.user.sub,name:body.name})}getAll(){return this.vehicleService.getAll()}getMyVehicles(req){return this.vehicleService.find({where:{userId:req.user.sub}})}delete(req,body){return this.vehicleService.getById(body.id).then((a=>{if(a.userId==req.user.sub)return this.vehicleService.delete(body.id);throw new common_1.MethodNotAllowedException("You can only delete your own vehicles")}))}update(req,body){return this.vehicleService.getById(body.id).then((a=>{if(a.userId==req.user.sub){const newVehicle={name:body.name};return this.vehicleService.update(body.id,newVehicle)}throw new common_1.MethodNotAllowedException("You can only modify your own vehicles")}))}};(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Put)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==auth_1.authRequest&&auth_1.authRequest)?_a:Object,vehicleDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],VehicleController.prototype,"create",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("admin"),(0,common_1.Post)("/all"),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",[]),(0,tslib_1.__metadata)("design:returntype",void 0)],VehicleController.prototype,"getAll",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Get)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_b=void 0!==auth_1.authRequest&&auth_1.authRequest)?_b:Object]),(0,tslib_1.__metadata)("design:returntype","function"==typeof(_c="undefined"!=typeof Promise&&Promise)?_c:Object)],VehicleController.prototype,"getMyVehicles",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Delete)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_d=void 0!==auth_1.authRequest&&auth_1.authRequest)?_d:Object,idDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],VehicleController.prototype,"delete",null),(0,tslib_1.__decorate)([(0,common_1.UseGuards)(auth_1.AuthGuard,auth_1.RoleGuard),(0,roles_decorator_1.Roles)("shipper"),(0,common_1.Patch)(),(0,tslib_1.__param)(0,(0,common_1.Req)()),(0,tslib_1.__param)(1,(0,common_1.Body)()),(0,tslib_1.__metadata)("design:type",Function),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_e=void 0!==auth_1.authRequest&&auth_1.authRequest)?_e:Object,myVehicleDto]),(0,tslib_1.__metadata)("design:returntype",void 0)],VehicleController.prototype,"update",null),VehicleController=(0,tslib_1.__decorate)([(0,common_1.Controller)("vehicle"),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_f=void 0!==vehicle_service_1.VehicleService&&vehicle_service_1.VehicleService)?_f:Object])],VehicleController),exports.VehicleController=VehicleController},6509:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.VehicleModule=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),vehicle_service_1=__webpack_require__(4823),vehicle_controller_1=__webpack_require__(577),typeorm_1=__webpack_require__(3399),Entities_1=__webpack_require__(953);let VehicleModule=class VehicleModule{};VehicleModule=(0,tslib_1.__decorate)([(0,common_1.Module)({imports:[typeorm_1.TypeOrmModule.forFeature([Entities_1.vehicleEntity])],providers:[vehicle_service_1.VehicleService],controllers:[vehicle_controller_1.VehicleController],exports:[vehicle_service_1.VehicleService]})],VehicleModule),exports.VehicleModule=VehicleModule},4823:(__unused_webpack_module,exports,__webpack_require__)=>{var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.VehicleService=void 0;const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),typeorm_1=__webpack_require__(3399),typeorm_2=__webpack_require__(5250),Entities_1=__webpack_require__(953),generic_service_1=__webpack_require__(3226);let VehicleService=class VehicleService extends generic_service_1.GenericService{constructor(vehicleRepository){super(vehicleRepository),this.vehicleRepository=vehicleRepository}};VehicleService=(0,tslib_1.__decorate)([(0,common_1.Injectable)(),(0,tslib_1.__param)(0,(0,typeorm_1.InjectRepository)(Entities_1.vehicleEntity)),(0,tslib_1.__metadata)("design:paramtypes",["function"==typeof(_a=void 0!==typeorm_2.Repository&&typeorm_2.Repository)?_a:Object])],VehicleService),exports.VehicleService=VehicleService},9498:module=>{module.exports=require("@nestjs/axios")},6481:module=>{module.exports=require("@nestjs/common")},5793:module=>{module.exports=require("@nestjs/config")},143:module=>{module.exports=require("@nestjs/core")},5385:module=>{module.exports=require("@nestjs/serve-static")},3399:module=>{module.exports=require("@nestjs/typeorm")},5849:module=>{module.exports=require("class-validator")},9779:module=>{module.exports=require("express-jwt")},5835:module=>{module.exports=require("jwks-rsa")},752:module=>{module.exports=require("tslib")},5250:module=>{module.exports=require("typeorm")},1017:module=>{module.exports=require("path")},3837:module=>{module.exports=require("util")}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}var __webpack_exports__={};(()=>{var exports=__webpack_exports__;Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(752),common_1=__webpack_require__(6481),core_1=__webpack_require__(143),app_module_1=__webpack_require__(3292);!function(){(0,tslib_1.__awaiter)(this,void 0,void 0,(function*(){const app=yield core_1.NestFactory.create(app_module_1.AppModule);app.enableCors(),app.useGlobalPipes(new common_1.ValidationPipe),app.setGlobalPrefix("api");const port=process.env.PORT||3333;yield app.listen(port),common_1.Logger.log(` Application is running on: http://localhost:${port}/api`)}))}()})();var __webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();
//# sourceMappingURL=main.js.map